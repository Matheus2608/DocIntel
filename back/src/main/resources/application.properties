# Langchain4j General Configuration
quarkus.langchain4j.log-requests=true
quarkus.langchain4j.log-responses=false

# Default Chat Model (OpenAI) - For DocumentSupportAgent
quarkus.langchain4j.chat-model.provider=openai
quarkus.langchain4j.openai.api-key=${OPENAI_API_KEY:your-openai-api-key-here}
quarkus.langchain4j.openai.chat-model.model-name=gpt-4o
quarkus.langchain4j.openai.chat-model.temperature=1.0
quarkus.langchain4j.openai.chat-model.max-tokens=2000
quarkus.langchain4j.openai.timeout=PT180S

quarkus.http.read-timeout=PT3600S
quarkus.http.idle-timeout=PT3600S
quarkus.vertx.max-worker-execute-time=PT3600S

# Datasource Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${POSTGRES_USERNAME:postgres}
quarkus.datasource.password=${POSTGRES_PASSWORD:postgres}
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/meu_banco

# PGVector Configuration
quarkus.langchain4j.pgvector.dimension=768
quarkus.langchain4j.pgvector.create-table=true
quarkus.langchain4j.pgvector.drop-table-first=false

# Hibernate ORM
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.console.enable=true
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n

# Application-specific logging - DEBUG level for your application
quarkus.log.category."dev.matheus".level=DEBUG

# Keep external libraries at INFO level to reduce noise
quarkus.log.category."io.quarkus".level=INFO
quarkus.log.category."org.jboss".level=INFO
quarkus.log.category."org.hibernate".level=WARN
quarkus.log.category."io.netty".level=WARN
quarkus.log.category."dev.langchain4j".level=INFO

# HTTP Access Log (disabled for less verbosity)
quarkus.http.access-log.enabled=false

# File Upload Limit
quarkus.http.limits.max-body-size=1G

# Transaction Timeout (no longer needed - we use short transactions now)
# Removed: quarkus.transaction-manager.default-transaction-timeout=PT3600S

# Docling Configuration (via Quarkus Docling Extension v1.2.1)
# The extension auto-configures the DoclingServeApi REST client
# CRITICAL: Extension-specific timeout property (default is 1M = 60 seconds!)
# Must use Duration format: PT2H = 2 hours
quarkus.docling.base-url=http://localhost:5001
quarkus.docling.api-key=default-api-key
quarkus.docling.timeout=PT2H
quarkus.docling.async-timeout=PT2H
quarkus.docling.connect-timeout=PT2H
quarkus.docling.read-timeout=PT2H
quarkus.docling.log-requests=false
quarkus.docling.log-responses=false

# Global HTTP client timeouts (apply to all REST clients)
quarkus.rest-client.read-timeout=7200000
quarkus.rest-client.connect-timeout=30000

# Custom application config (used by DoclingConfigProperties)
docling.chunking.max-tokens=2000

%dev.quarkus.datasource.dev-ui.allow-sql=true
