# OpenAI configuration

quarkus.langchain4j.chat-model.provider=openai
quarkus.langchain4j.log-requests=true
quarkus.langchain4j.log-responses=true
quarkus.langchain4j.openai.api-key=${OPENAI_API_KEY:your-openai-api-key}
quarkus.langchain4j.openai.chat-model.model-name=gpt-4o
quarkus.langchain4j.openai.chat-model.temperature=0.9
quarkus.langchain4j.openai.chat-model.max-completion-tokens=2000
quarkus.langchain4j.openai.chat-model.frequency-penalty=0
quarkus.langchain4j.openai.timeout=PT180S

# OpenAI configuration for embeddings
#quarkus.langchain4j.openai.embedding-model.model-name=text-embedding-3-small
#quarkus.langchain4j.openai.embedding-model.dimensions=1536

#quarkus.langchain4j.openai.chat-model.temperature=0.9
#quarkus.langchain4j.ollama.base-url=http://localhost:11434
#quarkus.langchain4j.ollama.chat-model.model-id=llama3.2:latest
#quarkus.langchain4j.ollama.chat-model.temperature=0.2
#quarkus.langchain4j.ollama.chat-model.log-requests=true
#quarkus.langchain4j.ollama.chat-model.log-responses=true
#quarkus.langchain4j.ollama.timeout=300s

quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=matheus
quarkus.datasource.password=tryhackme

# pg vector
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/meu_banco
quarkus.log.category."io.quarkiverse.langchain4j.pgvector".level=DEBUG
quarkus.langchain4j.pgvector.register-vector-pg-extension=false
quarkus.langchain4j.pgvector.create-table=true
quarkus.langchain4j.pgvector.drop-table-first=false
quarkus.langchain4j.pgvector.dimension=768

# Hibernate ORM
# drop-and-create = drops and recreates everything on each run (loses data!)
# update = updates the schema keeping the data
# validate = only validates the schema
# none = does nothing automatically
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true

# Enable CORS for local frontend at http://localhost:5173
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:5173
# Allow common methods used by APIs
quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS
# Allow headers commonly sent by browsers and fetch() calls
quarkus.http.cors.headers=accept,authorization,content-type
# Expose common headers (if needed by the frontend)
quarkus.http.cors.exposed-headers=location,content-disposition
# Allow credentials (cookies, auth headers) if you need them
quarkus.http.cors.access-control-allow-credentials=true
# Cache preflight responses for 1 hour
quarkus.http.cors.max-age=1H

# Logging configuration for debugging and observability
quarkus.log.level=INFO
quarkus.log.console.enable=true
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
quarkus.log.console.json=false

# Application logging
quarkus.log.category."dev.matheus".level=DEBUG

# HTTP request/response logging
quarkus.log.category."io.quarkus.http.access-log".level=DEBUG
quarkus.http.access-log.enabled=true
quarkus.http.access-log.pattern=%h %l %u %t "%r" %s %b "%{i,Referer}" "%{i,User-Agent}"

# Database and ORM logging
quarkus.log.category."org.hibernate.SQL".level=DEBUG
quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=TRACE

# RESTEasy Reactive logging
quarkus.log.category."org.jboss.resteasy.reactive".level=DEBUG

# WebSocket logging
quarkus.log.category."io.quarkus.websockets".level=DEBUG

%dev.quarkus.datasource.dev-ui.allow-sql=true